<div class="edit">
    <% if flash.now[:error] %>
        <h1 class="edit-h1">Editing Book</h1>

        <div class="edit-error-box">

            <div class="edit-error-box1">
                <%= form_for @book do |f| %>
                    <% if @book.errors.any? %>
                        <p class="error-message" ><%= @book.errors.count %> errors prohibited this book from being saved:</p>
                    <% end %>
                <% end %>
            </div>

            <div class="edit-error-box2">
                <%= form_for @book do |f| %>
                    <% if @book.errors.any? %>
                        <ul class="error-message-ul">
                            <% @book.errors.full_messages.each do |message| %>
                                <li class="error-message2"><%= message %></li>
                            <% end %>
                        </ul>
                    <% end %>
                <% end %>
            </div>

            <%= form_with model: @book, local:true do |f| %>

                <p class="edit-error1">Title</p>
                <%= f.text_field :title, class: "error-form"%>

                <p class="edit-error2">Body</p>
                <%= f.text_area :body, class:"error-form" %>

                <br><%= f.submit 'Create Book' %>
            <% end %>

        </div>

    <% else %>

        <%= form_with model: @book do |f| %>
            <p class="edit-title">Title<br>
            <%= f.text_field :title %></p>

            <p class="edit-body">Body<br>
            <%= f.text_area :body %></p>

            <span class="submit"><%= f.submit 'Update Book' %></span>
        <% end %>

        <span class="edit-show"><%= link_to "show", book_path(@book.id), class: "link" %></span>
        <span> | </span>
        <span class="edit-back"><%= link_to "back", '/books', class: "link" %></span>

    <% end %>
</div>